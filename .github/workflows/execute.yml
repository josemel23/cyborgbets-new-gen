name: Panel Scraper

on:
  workflow_dispatch:
    inputs:
      accion:
        required: true
        type: choice
        options:
          - scraper
          - deploy
      liga:
        required: false
        type: string
        default: liga_mx

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Test
        run: |
          echo "Accion: ${{ inputs.accion }}"
          echo "Liga: ${{ inputs.liga }}"
          
  deploy:
    runs-on: ubuntu-latest
    if: inputs.accion == 'deploy'
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Install Firebase CLI
        run: |
          npm install -g firebase-tools
          firebase --version
      - name: Test Firebase deploy
        run: |
          echo "Testing Firebase deploy"
          ls -la public/ || echo "No public folder"
          echo "Firebase token configured: ${{ secrets.FIREBASE_TOKEN != '' }}"
